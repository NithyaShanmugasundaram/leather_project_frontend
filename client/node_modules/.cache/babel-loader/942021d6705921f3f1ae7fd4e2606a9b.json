{"ast":null,"code":"import { combineReducers } from 'redux';\nimport { GET_NUMBER_CART, ADD_CART, DECREASE_QUANTITY, INCREASE_QUANTITY, DELETE_CART } from '../actions';\nconst initProduct = {\n  numberCart: 0,\n  Carts: [],\n  _products: []\n};\n\nfunction cartReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initProduct;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_NUMBER_CART:\n      return { ...state\n      };\n\n    case ADD_CART:\n      if (state.numberCart == 0) {\n        let cart = {\n          id: action.payload.id,\n          quantity: 1,\n          name: action.payload.name,\n          image: action.payload.image,\n          price: action.payload.price\n        };\n        state.Carts.push(cart);\n      } else {\n        let check = false;\n        state.Carts.map((item, key) => {\n          if (item.id == action.payload.id) {\n            state.Carts[key].quantity++;\n            check = true;\n          }\n        });\n\n        if (!check) {\n          let _cart = {\n            id: action.payload.id,\n            quantity: 1,\n            name: action.payload.name,\n            image: action.payload.image,\n            price: action.payload.price\n          };\n          state.Carts.push(_cart);\n        }\n      }\n\n      return { ...state,\n        numberCart: state.numberCart + 1\n      };\n\n    case INCREASE_QUANTITY:\n      state.numberCart++;\n      state.Carts[action.payload].quantity++;\n      return { ...state\n      };\n\n    case DECREASE_QUANTITY:\n      let quantity = state.Carts[action.payload].quantity;\n\n      if (quantity > 1) {\n        state.numberCart--;\n        state.Carts[action.payload].quantity--;\n      }\n\n      return { ...state\n      };\n\n    case DELETE_CART:\n      let quantity_ = state.Carts[action.payload].quantity;\n      return { ...state,\n        numberCart: state.numberCart - quantity_,\n        Carts: state.Carts.filter(item => {\n          return item.id != state.Carts[action.payload].id;\n        })\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport default cartReducer;","map":{"version":3,"sources":["C:/Users/nitshanm/Projects/Learning_Projects/leather_project_frontend/client/src/reducers/cart.js"],"names":["combineReducers","GET_NUMBER_CART","ADD_CART","DECREASE_QUANTITY","INCREASE_QUANTITY","DELETE_CART","initProduct","numberCart","Carts","_products","cartReducer","state","action","type","cart","id","payload","quantity","name","image","price","push","check","map","item","key","_cart","quantity_","filter"],"mappings":"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","sourcesContent":["import { combineReducers } from 'redux';\r\nimport {\r\n    GET_NUMBER_CART, ADD_CART, DECREASE_QUANTITY, INCREASE_QUANTITY,\r\n    DELETE_CART\r\n} from '../actions';\r\n\r\nconst initProduct = {\r\n    numberCart: 0,\r\n    Carts: [],\r\n    _products: []\r\n}\r\n\r\nfunction cartReducer(state = initProduct, action) {\r\n\r\n    switch (action.type) {\r\n\r\n        case GET_NUMBER_CART:\r\n            return {\r\n                ...state\r\n            }\r\n        case ADD_CART:\r\n            if (state.numberCart == 0) {\r\n                let cart = {\r\n                    id: action.payload.id,\r\n                    quantity: 1,\r\n                    name: action.payload.name,\r\n                    image: action.payload.image,\r\n                    price: action.payload.price\r\n                }\r\n                state.Carts.push(cart);\r\n            }\r\n            else {\r\n                let check = false;\r\n                state.Carts.map((item, key) => {\r\n                    if (item.id == action.payload.id) {\r\n                        state.Carts[key].quantity++;\r\n                        check = true;\r\n                    }\r\n                });\r\n                if (!check) {\r\n                    let _cart = {\r\n                        id: action.payload.id,\r\n                        quantity: 1,\r\n                        name: action.payload.name,\r\n                        image: action.payload.image,\r\n                        price: action.payload.price\r\n                    }\r\n                    state.Carts.push(_cart);\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                numberCart: state.numberCart + 1\r\n            }\r\n        case INCREASE_QUANTITY:\r\n            state.numberCart++\r\n            state.Carts[action.payload].quantity++;\r\n\r\n            return {\r\n                ...state\r\n            }\r\n        case DECREASE_QUANTITY:\r\n            let quantity = state.Carts[action.payload].quantity;\r\n            if (quantity > 1) {\r\n                state.numberCart--;\r\n                state.Carts[action.payload].quantity--;\r\n            }\r\n\r\n            return {\r\n                ...state\r\n            }\r\n        case DELETE_CART:\r\n            let quantity_ = state.Carts[action.payload].quantity;\r\n            return {\r\n                ...state,\r\n                numberCart: state.numberCart - quantity_,\r\n                Carts: state.Carts.filter(item => {\r\n                    return item.id != state.Carts[action.payload].id\r\n                })\r\n\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default cartReducer;"]},"metadata":{},"sourceType":"module"}